@page "/add-author"
@page "/authors/{Id:int}"
@inherits AddAuthorBase
@attribute [Authorize(Roles = "Admin,Staff")]

<h1>@(author.Id != 0 ? "Sửa" : "Thêm") Tác giả</h1>

@if (!string.IsNullOrEmpty(errorMessage))
{
    <div class="alert alert-danger">@errorMessage</div>
}

<EditForm Model="author" OnValidSubmit="HandleValidSubmit" FormName="addAuthorForm">
    <DataAnnotationsValidator />
    <ValidationMessage For="@(() => author.AuthorName)" class="alert alert-danger" />

    <div class="form-group row mb-3">
        <label for="txtTitle" class="col-sm-2 col-form-label">Tên tác gỉả</label>
        <div class="col-sm-10">
            <InputText class="form-control" id="txtTitle" placeholder="Tên tác giả" @bind-Value="@author.AuthorName" />
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-10">
            <input type="submit" class="btn btn-primary w-25" value="Hoàn tất" />
        </div>
    </div>
</EditForm>
